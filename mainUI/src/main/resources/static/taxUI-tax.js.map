{"version":3,"sources":["webpack:///./source/views/setting/api/skuAPI.js","webpack:///./source/views/setting/tax.vue?0156","webpack:///./source/views/setting/tax.vue?6571","webpack:///tax.vue","webpack:///./source/views/setting/api/taxAPI.js","webpack:///./source/views/setting/tax.vue?fb32","webpack:///./source/views/setting/tax.vue"],"names":["skuAPI","getSKU","searchWord","axios","get","params","then","res","data","getSKUById","id","addSKU","sku","console","log","post","JSON","parse","stringify","updateSKU","put","deleteSKU","ids","strIds","join","delete","taxAPI","getTaxData","addTax","tax","editTax","deleteTaxs"],"mappings":"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;uDACA;sBACA;AACA;6DACA;yBACA;AACA;;AACA;0DACA;2DACA;8BACA;AACA;wBACA;AACA;;AACA;kCACA;4BACA;wBACA;AACA;;AACA;;AACA;;uBACA;oBACA;2BACA;wBACA;qDACA;wBACA;AACA;AACA;;AACA;oDACA;sCACA;4BACA;AACA;6CACA;AACA;;AACA;;AACA;;uBACA;2BACA;sCACA;wBACA;qDACA;yBACA;AACA;AACA;;AACA;;AACA;;uBACA;2BACA;sCACA;wBACA;qDACA;yBACA;AACA;AACA;;AACA;;AACA;;uBACA;2BACA;wDACA;wBACA;qDACA;yBACA;AACA;AACA;;AACA;;AACA;;sDACA;mBACA;sCACA;wCACA;gCACA;wCACA;AACA;AACA;AACA;iCACA;8DACA,CACA;qCACA;wEACA;oCACA;uBACA;6CACA;qBACA;2CACA;AACA;qCACA;kCACA;AACA;4CACA;2FACA;oCACA;uBACA;8DACA;6CACA;qBACA;2CACA;AACA;qCACA;kCACA;AACA;AACA;eACA;mCACA;iBACA;AACA;AACA;AACA;;AACA;;mBACA;+CACA;wBACA;AAEA;;;2BAEA;0BACA;cACA;kEACA;mCACA;4CACA;4EACA;oCACA;kDACA;8CAEA;;8DACA;+CACA;;yBAEA;gCACA;wBACA;4BAEA;AALA;qBAMA;mCACA;AACA;8CACA;mBACA;AACA;iBACA;AACA;AACA;AACA;AA7BA,2BA8BA;;iBAEA;mBACA;oBAEA;AAJA;AAKA;AACA;;AACA;+CACA;4BACA;kBACA,eACA,mDAEA;AACA;;gCAEA;mBACA;mBACA;mBACA;mBAEA;AANA;uBAOA;iDACA;2BACA;oBACA,eACA,2DAEA;AACA;AACA;aACA;AACA;;AACA;;yDACA;+BACA;sDACA;uCACA;AACA;AACA;uCACA;oBACA;0CACA;2BACA;wBACA;AACA;AACA;AACA;4BACA;AAEA;AA5NA;8BA6NA;SACA;AACA;AArPA,E;;;;;;;;;;;;;AC3GA,IAAM0B,SAAS;AACbC,YADa,wBACC;AACZ,WAAOxB,MAAMC,GAAN,CAAU,cAAV,EAA0BE,IAA1B,CAA+B,eAAO;AAC3C,aAAOC,GAAP;AACD,KAFM,CAAP;AAGD,GALY;AAMbqB,QANa,kBAMLC,GANK,EAMA;AACX,WAAO1B,MAAMY,IAAN,CAAW,cAAX,EAA2Bc,GAA3B,EAAgCvB,IAAhC,CAAqC;AAAA,aAAOC,IAAIC,IAAX;AAAA,KAArC,CAAP;AACD,GARY;AASbsB,SATa,mBASJpB,EATI,EASAmB,GATA,EASK;AAChB,WAAO1B,MAAMiB,GAAN,CAAU,cAAV,EAA0BS,GAA1B,EAA+BvB,IAA/B,CAAoC;AAAA,aAAOC,IAAIC,IAAX;AAAA,KAApC,CAAP;AACD,GAXY;AAYbuB,YAZa,sBAYDT,GAZC,EAYI;AACf,QAAIC,SAASD,IAAIE,IAAJ,CAAS,GAAT,CAAb;AACA,WAAOrB,MAAMsB,MAAN,mBAA6BF,MAA7B,EAAuCjB,IAAvC,CAA4C;AAAA,aAAOC,IAAIC,IAAX;AAAA,KAA5C,CAAP;AACD;AAfY,CAAf;;kBAkBekB,M;;;;;;;AClBf,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;ACxVA;AACA;AACA;AACA,yBAAgM;AAChM;AACA;AACA;AACA;AACA;AACA,yBAAyH;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED","file":"taxUI-tax.js","sourcesContent":["const skuAPI = {\n  getSKU (searchWord) {\n    if (typeof searchWord === 'undefined') {\n      searchWord = ''\n    }\n    return axios\n      .get('baseData/sku', {\n        params: {\n          searchWord\n        }\n      })\n      .then(res => res.data)\n  },\n  getSKUById (id) {\n    return axios.get('/baseData/sku/' + id).then(res => res.data)\n  },\n  addSKU (sku) {\n    console.log(sku)\n    return axios.post('/baseData/sku', JSON.parse(JSON.stringify(sku)))\n  },\n  updateSKU (sku) {\n    return axios.put('/baseData/sku', JSON.parse(JSON.stringify(sku)))\n  },\n  deleteSKU (ids) {\n    let strIds = ids.join(',')\n    return axios.delete('/baseData/sku/' + strIds)\n  }\n}\n\nexport default skuAPI\n\n\n\n// WEBPACK FOOTER //\n// ./source/views/setting/api/skuAPI.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f04547b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./tax.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"45803886\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f04547b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./tax.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f04547b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./tax.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?sourceMap!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5f04547b\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./source/views/setting/tax.vue\n// module id = 151\n// module chunks = 9","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.main-content-wrap[data-v-5f04547b] {\\n  padding: 10px;\\n}\\n.width-300[data-v-5f04547b] {\\n  width: 300px;\\n}\\n.width-230[data-v-5f04547b] {\\n  width: 230px;\\n}\\n.page-wrap[data-v-5f04547b] {\\n  margin-top: 20px;\\n}\\n.page-wrap .page[data-v-5f04547b] {\\n  float: right;\\n}\\n.search-bar[data-v-5f04547b] {\\n  padding-bottom: 10px;\\n}\\n.demo-table-expand[data-v-5f04547b] {\\n  font-size: 12px;\\n}\\n.demo-table-expand label[data-v-5f04547b] {\\n  color: #99a9bf;\\n}\\n.demo-table-expand .el-form-item[data-v-5f04547b] {\\n  margin-right: 0;\\n  margin-bottom: 0;\\n  width: 45%;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"G:/git/declarationForm/mainUI/source/views/setting/tax.vue?30aee54a\"],\"names\":[],\"mappings\":\";AAoWA;EACA,cAAA;CACA;AAEA;EACA,aAAA;CACA;AAEA;EACA,aAAA;CACA;AAEA;EACA,iBAAA;CACA;AAEA;EACA,aAAA;CACA;AAEA;EACA,qBAAA;CACA;AAEA;EACA,gBAAA;CACA;AAEA;EACA,eAAA;CACA;AAEA;EACA,gBAAA;EACA,iBAAA;EACA,WAAA;CACA\",\"file\":\"tax.vue\",\"sourcesContent\":[\"<template>\\n  <div>\\n    <el-toolbar>\\n      <el-button class=\\\"z-toolbar-btn\\\" :plain=\\\"true\\\" icon=\\\"plus\\\" @click=\\\"addTax\\\">新建</el-button>\\n      <el-button class=\\\"z-toolbar-btn\\\" :plain=\\\"true\\\" icon=\\\"edit\\\" :disabled=\\\"selectedRows.length !== 1\\\" @click=\\\"editTax\\\">编辑</el-button>\\n      <el-button class=\\\"z-toolbar-btn\\\" :plain=\\\"true\\\" icon=\\\"delete\\\" :disabled=\\\"selectedRows.length === 0\\\" @click=\\\"deleteTaxs\\\">删除</el-button>\\n    </el-toolbar>\\n    <div class=\\\"main-content-wrap\\\">\\n      <div class=\\\"search-bar fr\\\">\\n        税号:\\n        <el-input v-model=\\\"search.taxNum\\\" size=\\\"small\\\" placeholder=\\\"请输入税号\\\" style=\\\"width: 200px;\\\"></el-input>\\n        商品名称：\\n        <el-input v-model=\\\"search.taxGoodsType\\\" size=\\\"small\\\" placeholder=\\\"请输入商品名称\\\" style=\\\"width: 200px;\\\"></el-input>\\n        <el-button size=\\\"small\\\" type=\\\"primary\\\" @click=\\\"handleSearchBtn\\\" style=\\\"width: 60px;\\\">搜索</el-button>\\n      </div>\\n      <!--表格-->\\n      <div>\\n        <el-table :data=\\\"taxTable\\\"  ref=\\\"taxTable\\\"  @selection-change=\\\"onSelectionChange\\\" @row-click=\\\"rowClick\\\"  @row-dblclick=\\\"dblclickTax\\\" >\\n          <el-table-column type=\\\"selection\\\" width=\\\"55\\\" align=\\\"center\\\"></el-table-column>\\n          <el-table-column type=\\\"expand\\\">\\n            <template slot-scope=\\\"props\\\">\\n              <el-form label-position=\\\"left\\\" inline class=\\\"demo-table-expand\\\" label-width=\\\"120px\\\">\\n                <el-form-item label=\\\"税号\\\">\\n                  <span>{{props.row.taxNum}}</span>\\n                </el-form-item>\\n                <el-form-item label=\\\"商品名称\\\">\\n                  <span>{{props.row.skuname}}</span>\\n                </el-form-item>\\n                <!-- <el-form-item label=\\\"单位\\\">\\n                  <span>{{props.row.unit}}</span>\\n                </el-form-item> -->\\n                <el-form-item label=\\\"税率%\\\">\\n                  <span>{{props.row.rate}}</span>\\n                </el-form-item>\\n                <el-form-item label=\\\"免征额\\\">\\n                  <span>{{props.row.exemption}}</span>\\n                </el-form-item>\\n                <el-form-item label=\\\"最后修改\\\">\\n                  <span>{{props.row.modifyDate}}</span>\\n                </el-form-item>\\n                <el-form-item label=\\\"范围\\\" style=\\\"width:100%;\\\">\\n                  <span>{{props.row.range}}</span>\\n                </el-form-item>\\n              </el-form>\\n            </template>\\n          </el-table-column>\\n          <el-table-column prop=\\\"taxNum\\\" min-width=\\\"25%\\\" label=\\\"税号\\\">\\n            <template slot-scope=\\\"scope\\\">\\n             <a @click=\\\"lookClick(scope.row)\\\" class=\\\"a-btn\\\">{{scope.row.taxNum}}</a>\\n           </template>\\n          </el-table-column>\\n          <el-table-column prop=\\\"skuname\\\" min-width=\\\"35%\\\" label=\\\"商品名称\\\"></el-table-column>\\n          <!-- <el-table-column prop=\\\"unit\\\" min-width=\\\"10%\\\" label=\\\"单位\\\"></el-table-column> -->\\n          <el-table-column prop=\\\"rate\\\" min-width=\\\"10%\\\" label=\\\"税率%\\\"></el-table-column>\\n          <el-table-column prop=\\\"exemption\\\" min-width=\\\"10%\\\" label=\\\"免征额\\\"></el-table-column>\\n          <el-table-column prop=\\\"modifyDate\\\" min-width=\\\"20%\\\" label=\\\"最后修改\\\"></el-table-column>\\n        </el-table>\\n      </div>\\n      <!--分页-->\\n      <div class=\\\"page-wrap\\\">\\n        <el-pagination class=\\\"page\\\" @size-change=\\\"sizeChangeHandler\\\" @current-change=\\\"currentChangeHandler\\\" :current-page.sync=\\\"currentPage\\\" :page-sizes=\\\"pageSizes\\\" :page-size=\\\"pageSize\\\" :total=\\\"total\\\" layout=\\\"total,sizes, prev, pager, next\\\">\\n        </el-pagination>\\n      </div>\\n    </div>\\n\\n    <!-- 新建,编辑对话框 -->\\n    <el-dialog :title=\\\"addOrEdit==1?'新建':'编辑'\\\" :visible.sync=\\\"showDialog\\\" @close=\\\"closeAddOrEditDialog\\\">\\n      <el-form label-width=\\\"160px\\\" :model=\\\"tmpTax\\\" :rules=\\\"taxRules\\\" ref=\\\"taxForm\\\">\\n        <el-form-item label=\\\"税号：\\\" prop=\\\"taxNum\\\">\\n          <el-input placeholder=\\\"请输入税号\\\" v-model=\\\"tmpTax.taxNum\\\" class=\\\"width-230\\\"></el-input>\\n        </el-form-item>\\n        <el-form-item label=\\\"商品：\\\" >\\n        <el-select class=\\\"width-230\\\" filterable v-model=\\\"tmpTax.sku\\\" placeholder=\\\"请选择一种商品\\\" @change=\\\"selectSku\\\" >\\n              <el-option v-for=\\\"item in SKUData\\\" :key=\\\"item.sn\\\" :label=\\\"item.name\\\" :value=\\\"item.sn\\\">\\n                <span style=\\\"float: left\\\">{{ item.sn }}</span>\\n                <span style=\\\"float: right; color: #8492a6; font-size: 13px\\\">{{ item.name }}</span>\\n              </el-option>\\n        </el-select>\\n        </el-form-item>\\n        <!-- <el-form-item label=\\\"单位：\\\">\\n          <el-input placeholder=\\\"请输入单位\\\" v-model=\\\"tmpTax.unit\\\" class=\\\"width-230\\\"></el-input>\\n        </el-form-item> -->\\n        <el-form-item label=\\\"税率%：\\\">\\n          <el-input placeholder=\\\"请输入税率\\\" v-model=\\\"tmpTax.rate\\\" class=\\\"width-230\\\"></el-input>\\n        </el-form-item>\\n        <el-form-item label=\\\"免征额：\\\">\\n          <el-input-number v-model=\\\"tmpTax.exemption\\\" :min=\\\"0\\\" class=\\\"width-230\\\"></el-input-number>\\n        </el-form-item>\\n        <el-form-item label=\\\"范围：\\\">\\n          <el-input placeholder=\\\"请填写范围\\\" type=\\\"textarea\\\" autosize=\\\"true\\\" v-model=\\\"tmpTax.range\\\"></el-input>\\n        </el-form-item>\\n      </el-form>\\n      <div slot=\\\"footer\\\" class=\\\"dialog-footer\\\">\\n        <el-button @click=\\\"resetTax\\\">取 消</el-button>\\n        <el-button type=\\\"primary\\\" @click=\\\"saveTax\\\" :disabled=\\\"saveTaxStatus\\\">确 定</el-button>\\n      </div>\\n    </el-dialog>\\n\\n  </div>\\n</template>\\n\\n<script>\\nimport taxAPI from './api/taxAPI.js';\\nimport skuAPI from './api/skuAPI.js';\\n// import './mock/tax.js';\\n\\nexport default {\\n  data() {\\n    return {\\n      taxTable: [],\\n      temtaxTable: [],\\n      currentPage: 1,\\n      total: 50,\\n      pageSize: 5,\\n      pageSizes: [5, 10, 15, 20],\\n      selectedRows: [],\\n      showDialog: false,\\n      addOrEdit: 1,\\n      tmpTax: {},\\n      taxRules: {\\n        taxNum: [{ required: true, message: '请输入税号', trigger: 'blur' }],\\n        taxGoodsType: [{ required: true, message: '请输入物品类型', trigger: 'blur' }],\\n      },\\n      saveTaxStatus: false,\\n      search: { taxNum: '', taxGoodsType: '' },\\n      SKUData: [],\\n    };\\n  },\\n  methods: {\\n    onSelectionChange(selection) {\\n      this.selectedRows = selection;\\n    },\\n    handleSearchBtn() {\\n      // this.currentPage=1;\\n      // this.getTaxData();\\n      this.taxTable = Object.assign([], this.temtaxTable);\\n      let temTaxnum = this.search.taxNum;\\n      let temTaxGoodsType = this.search.taxGoodsType;\\n      if (temTaxnum != '' || temTaxGoodsType != '') {\\n        if (temTaxnum != '') {\\n          this.taxTable = this.taxTable.filter(\\n            val => val.taxNum.indexOf(temTaxnum) != -1\\n          );\\n        }\\n        if (temTaxGoodsType != '') {\\n          this.taxTable = this.taxTable.filter(\\n            val => val.skuname.indexOf(temTaxGoodsType) != -1\\n          );\\n        }\\n      }\\n      this.total = this.taxTable.length;\\n    },\\n    sizeChangeHandler(val) {\\n      this.pageSize = val;\\n    },\\n    currentChangeHandler(val) {\\n      this.currentPage = val;\\n    },\\n    //关闭事件\\n    closeAddOrEditDialog() {\\n      if (!this.tmpTax.taxNum || this.tmpTax.taxNum == '') {\\n        this.$refs['taxForm'].resetFields();\\n      }\\n      this.showDialog = false;\\n    },\\n    //取消\\n    resetTax() {\\n      this.$refs['taxForm'].resetFields();\\n      this.showDialog = false;\\n    },\\n    //新建\\n    addTax() {\\n      this.addOrEdit = 1;\\n      this.tmpTax = {};\\n      this.saveTaxStatus = false;\\n      this.showDialog = true;\\n      skuAPI.getSKU().then(data => {\\n        this.SKUData = data;\\n      });\\n    },\\n    //单机\\n    rowClick(row, event, column) {\\n      if (column.type != 'selection') {\\n        this.$refs.taxTable.clearSelection();\\n      }\\n      this.$refs.taxTable.toggleRowSelection(row);\\n    },\\n    //双击\\n    dblclickTax(row) {\\n      this.addOrEdit = 2;\\n      this.saveTaxStatus = false;\\n      this.tmpTax = Object.assign({}, row);\\n      this.showDialog = true;\\n      skuAPI.getSKU().then(data => {\\n        this.SKUData = data;\\n      });\\n    },\\n    //链接\\n    lookClick(row) {\\n      this.addOrEdit = 2;\\n      this.saveTaxStatus = false;\\n      this.tmpTax = Object.assign({}, row);\\n      this.showDialog = true;\\n      skuAPI.getSKU().then(data => {\\n        this.SKUData = data;\\n      });\\n    },\\n    //编辑\\n    editTax() {\\n      this.addOrEdit = 2;\\n      this.saveTaxStatus = false;\\n      this.tmpTax = Object.assign({}, this.selectedRows[0]);\\n      this.showDialog = true;\\n      skuAPI.getSKU().then(data => {\\n        this.SKUData = data;\\n      });\\n    },\\n    //新建和编辑时保存\\n    saveTax() {\\n      this.$refs['taxForm'].validate(valid => {\\n        if (valid) {\\n          let temRate = this.tmpTax.rate;\\n          if (temRate && temRate != '') {\\n            if (isNaN(temRate)) {\\n              this.$alert('税率必须是数字！', '提示');\\n              return;\\n            }\\n          }\\n          this.saveTaxStatus = true;\\n          if (this.tmpTax.rate && this.tmpTax.rate != '') {\\n          }\\n          if (this.addOrEdit == 1) {\\n            taxAPI.addTax(this.tmpTax).then(data => {\\n              if (data.status == 1) {\\n                this.getTaxData();\\n                this.$message.success(data.message);\\n              } else {\\n                this.$message.error(data.message);\\n              }\\n              this.saveTaxStatus = false;\\n              this.showDialog = false;\\n            });\\n          } else if (this.addOrEdit == 2) {\\n            taxAPI.editTax(this.tmpTax.id, this.tmpTax).then(data => {\\n              if (data.status == 1) {\\n                this.getTaxData();\\n                this.temtaxTable = Object.assign([], this.taxTable);\\n                this.$message.success(data.message);\\n              } else {\\n                this.$message.error(data.message);\\n              }\\n              this.saveTaxStatus = false;\\n              this.showDialog = false;\\n            });\\n          }\\n        } else {\\n          this.$alert('请填写正确选项', '提示');\\n          return false;\\n        }\\n      });\\n    },\\n    deleteTaxs() {\\n      let rowIds = [];\\n      this.selectedRows.forEach(function(row) {\\n        rowIds.push(row.id);\\n      });\\n\\n      this.$confirm('确认删除所选的数据?', '提示', {\\n        confirmButtonText: '确定',\\n        cancelButtonText: '取消',\\n        type: 'warning',\\n        beforeClose: (action, instance, done) => {\\n          if (action == 'confirm') {\\n            instance.confirmButtonLoading = true;\\n            return taxAPI.deleteTaxs(rowIds).then(data => {\\n              if (data.status == 1) {\\n                this.taxTable = this.taxTable.filter(\\n                  val => !rowIds.includes(val.id)\\n                );\\n                this.temtaxTable = Object.assign([], this.taxTable);\\n                this.total = this.taxTable.length;\\n                this.$notify({\\n                  title: '成功',\\n                  message: data.message,\\n                  type: 'success',\\n                  duration: 2000,\\n                });\\n              } else {\\n                this.$alert(data.message);\\n              }\\n              instance.confirmButtonLoading = false;\\n              done(data);\\n            });\\n          } else {\\n            done();\\n          }\\n        },\\n      }).catch(() => {\\n        this.$notify.info({\\n          title: '取消',\\n          message: '操作取消！',\\n          duration: 2000,\\n        });\\n      });\\n    },\\n    //格式化时间 格式化时间为yyyy-MM-dd hh:mm:ss\\n    formatDate(date, fmt) {\\n      if (/(y+)/.test(fmt)) {\\n        fmt = fmt.replace(\\n          RegExp.$1,\\n          (date.getFullYear() + '').substr(4 - RegExp.$1.length)\\n        );\\n      }\\n      let o = {\\n        'M+': date.getMonth() + 1,\\n        'd+': date.getDate(),\\n        'h+': date.getHours(),\\n        'm+': date.getMinutes(),\\n        's+': date.getSeconds(),\\n      };\\n      for (let k in o) {\\n        if (new RegExp(`(${k})`).test(fmt)) {\\n          let str = o[k] + '';\\n          fmt = fmt.replace(\\n            RegExp.$1,\\n            RegExp.$1.length === 1 ? str : ('00' + str).substr(str.length)\\n          );\\n        }\\n      }\\n      return fmt;\\n    },\\n    getTaxData() {\\n      taxAPI.getTaxData().then(data => {\\n        this.taxTable = data.data;\\n        this.temtaxTable = Object.assign([], this.taxTable);\\n        this.total = this.taxTable.length;\\n      });\\n    },\\n    selectSku(val) {\\n      let skuname = '';\\n      this.SKUData.forEach(function(row) {\\n        if (row.sn == val) {\\n          skuname = row.name;\\n          return;\\n        }\\n      });\\n      this.tmpTax.skuname = skuname;\\n    },\\n  },\\n  created() {\\n    this.getTaxData();\\n  },\\n};\\n</script>\\n\\n<style scoped>\\n.main-content-wrap {\\n  padding: 10px;\\n}\\n\\n.width-300 {\\n  width: 300px;\\n}\\n\\n.width-230 {\\n  width: 230px;\\n}\\n\\n.page-wrap {\\n  margin-top: 20px;\\n}\\n\\n.page-wrap .page {\\n  float: right;\\n}\\n\\n.search-bar {\\n  padding-bottom: 10px;\\n}\\n\\n.demo-table-expand {\\n  font-size: 12px;\\n}\\n\\n.demo-table-expand label {\\n  color: #99a9bf;\\n}\\n\\n.demo-table-expand .el-form-item {\\n  margin-right: 0;\\n  margin-bottom: 0;\\n  width: 45%;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?sourceMap!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5f04547b\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./source/views/setting/tax.vue\n// module id = 152\n// module chunks = 9","<template>\n  <div>\n    <el-toolbar>\n      <el-button class=\"z-toolbar-btn\" :plain=\"true\" icon=\"plus\" @click=\"addTax\">新建</el-button>\n      <el-button class=\"z-toolbar-btn\" :plain=\"true\" icon=\"edit\" :disabled=\"selectedRows.length !== 1\" @click=\"editTax\">编辑</el-button>\n      <el-button class=\"z-toolbar-btn\" :plain=\"true\" icon=\"delete\" :disabled=\"selectedRows.length === 0\" @click=\"deleteTaxs\">删除</el-button>\n    </el-toolbar>\n    <div class=\"main-content-wrap\">\n      <div class=\"search-bar fr\">\n        税号:\n        <el-input v-model=\"search.taxNum\" size=\"small\" placeholder=\"请输入税号\" style=\"width: 200px;\"></el-input>\n        商品名称：\n        <el-input v-model=\"search.taxGoodsType\" size=\"small\" placeholder=\"请输入商品名称\" style=\"width: 200px;\"></el-input>\n        <el-button size=\"small\" type=\"primary\" @click=\"handleSearchBtn\" style=\"width: 60px;\">搜索</el-button>\n      </div>\n      <!--表格-->\n      <div>\n        <el-table :data=\"taxTable\"  ref=\"taxTable\"  @selection-change=\"onSelectionChange\" @row-click=\"rowClick\"  @row-dblclick=\"dblclickTax\" >\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\n          <el-table-column type=\"expand\">\n            <template slot-scope=\"props\">\n              <el-form label-position=\"left\" inline class=\"demo-table-expand\" label-width=\"120px\">\n                <el-form-item label=\"税号\">\n                  <span>{{props.row.taxNum}}</span>\n                </el-form-item>\n                <el-form-item label=\"商品名称\">\n                  <span>{{props.row.skuname}}</span>\n                </el-form-item>\n                <!-- <el-form-item label=\"单位\">\n                  <span>{{props.row.unit}}</span>\n                </el-form-item> -->\n                <el-form-item label=\"税率%\">\n                  <span>{{props.row.rate}}</span>\n                </el-form-item>\n                <el-form-item label=\"免征额\">\n                  <span>{{props.row.exemption}}</span>\n                </el-form-item>\n                <el-form-item label=\"最后修改\">\n                  <span>{{props.row.modifyDate}}</span>\n                </el-form-item>\n                <el-form-item label=\"范围\" style=\"width:100%;\">\n                  <span>{{props.row.range}}</span>\n                </el-form-item>\n              </el-form>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"taxNum\" min-width=\"25%\" label=\"税号\">\n            <template slot-scope=\"scope\">\n             <a @click=\"lookClick(scope.row)\" class=\"a-btn\">{{scope.row.taxNum}}</a>\n           </template>\n          </el-table-column>\n          <el-table-column prop=\"skuname\" min-width=\"35%\" label=\"商品名称\"></el-table-column>\n          <!-- <el-table-column prop=\"unit\" min-width=\"10%\" label=\"单位\"></el-table-column> -->\n          <el-table-column prop=\"rate\" min-width=\"10%\" label=\"税率%\"></el-table-column>\n          <el-table-column prop=\"exemption\" min-width=\"10%\" label=\"免征额\"></el-table-column>\n          <el-table-column prop=\"modifyDate\" min-width=\"20%\" label=\"最后修改\"></el-table-column>\n        </el-table>\n      </div>\n      <!--分页-->\n      <div class=\"page-wrap\">\n        <el-pagination class=\"page\" @size-change=\"sizeChangeHandler\" @current-change=\"currentChangeHandler\" :current-page.sync=\"currentPage\" :page-sizes=\"pageSizes\" :page-size=\"pageSize\" :total=\"total\" layout=\"total,sizes, prev, pager, next\">\n        </el-pagination>\n      </div>\n    </div>\n\n    <!-- 新建,编辑对话框 -->\n    <el-dialog :title=\"addOrEdit==1?'新建':'编辑'\" :visible.sync=\"showDialog\" @close=\"closeAddOrEditDialog\">\n      <el-form label-width=\"160px\" :model=\"tmpTax\" :rules=\"taxRules\" ref=\"taxForm\">\n        <el-form-item label=\"税号：\" prop=\"taxNum\">\n          <el-input placeholder=\"请输入税号\" v-model=\"tmpTax.taxNum\" class=\"width-230\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品：\" >\n        <el-select class=\"width-230\" filterable v-model=\"tmpTax.sku\" placeholder=\"请选择一种商品\" @change=\"selectSku\" >\n              <el-option v-for=\"item in SKUData\" :key=\"item.sn\" :label=\"item.name\" :value=\"item.sn\">\n                <span style=\"float: left\">{{ item.sn }}</span>\n                <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.name }}</span>\n              </el-option>\n        </el-select>\n        </el-form-item>\n        <!-- <el-form-item label=\"单位：\">\n          <el-input placeholder=\"请输入单位\" v-model=\"tmpTax.unit\" class=\"width-230\"></el-input>\n        </el-form-item> -->\n        <el-form-item label=\"税率%：\">\n          <el-input placeholder=\"请输入税率\" v-model=\"tmpTax.rate\" class=\"width-230\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"免征额：\">\n          <el-input-number v-model=\"tmpTax.exemption\" :min=\"0\" class=\"width-230\"></el-input-number>\n        </el-form-item>\n        <el-form-item label=\"范围：\">\n          <el-input placeholder=\"请填写范围\" type=\"textarea\" autosize=\"true\" v-model=\"tmpTax.range\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"resetTax\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveTax\" :disabled=\"saveTaxStatus\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport taxAPI from './api/taxAPI.js';\nimport skuAPI from './api/skuAPI.js';\n// import './mock/tax.js';\n\nexport default {\n  data() {\n    return {\n      taxTable: [],\n      temtaxTable: [],\n      currentPage: 1,\n      total: 50,\n      pageSize: 5,\n      pageSizes: [5, 10, 15, 20],\n      selectedRows: [],\n      showDialog: false,\n      addOrEdit: 1,\n      tmpTax: {},\n      taxRules: {\n        taxNum: [{ required: true, message: '请输入税号', trigger: 'blur' }],\n        taxGoodsType: [{ required: true, message: '请输入物品类型', trigger: 'blur' }],\n      },\n      saveTaxStatus: false,\n      search: { taxNum: '', taxGoodsType: '' },\n      SKUData: [],\n    };\n  },\n  methods: {\n    onSelectionChange(selection) {\n      this.selectedRows = selection;\n    },\n    handleSearchBtn() {\n      // this.currentPage=1;\n      // this.getTaxData();\n      this.taxTable = Object.assign([], this.temtaxTable);\n      let temTaxnum = this.search.taxNum;\n      let temTaxGoodsType = this.search.taxGoodsType;\n      if (temTaxnum != '' || temTaxGoodsType != '') {\n        if (temTaxnum != '') {\n          this.taxTable = this.taxTable.filter(\n            val => val.taxNum.indexOf(temTaxnum) != -1\n          );\n        }\n        if (temTaxGoodsType != '') {\n          this.taxTable = this.taxTable.filter(\n            val => val.skuname.indexOf(temTaxGoodsType) != -1\n          );\n        }\n      }\n      this.total = this.taxTable.length;\n    },\n    sizeChangeHandler(val) {\n      this.pageSize = val;\n    },\n    currentChangeHandler(val) {\n      this.currentPage = val;\n    },\n    //关闭事件\n    closeAddOrEditDialog() {\n      if (!this.tmpTax.taxNum || this.tmpTax.taxNum == '') {\n        this.$refs['taxForm'].resetFields();\n      }\n      this.showDialog = false;\n    },\n    //取消\n    resetTax() {\n      this.$refs['taxForm'].resetFields();\n      this.showDialog = false;\n    },\n    //新建\n    addTax() {\n      this.addOrEdit = 1;\n      this.tmpTax = {};\n      this.saveTaxStatus = false;\n      this.showDialog = true;\n      skuAPI.getSKU().then(data => {\n        this.SKUData = data;\n      });\n    },\n    //单机\n    rowClick(row, event, column) {\n      if (column.type != 'selection') {\n        this.$refs.taxTable.clearSelection();\n      }\n      this.$refs.taxTable.toggleRowSelection(row);\n    },\n    //双击\n    dblclickTax(row) {\n      this.addOrEdit = 2;\n      this.saveTaxStatus = false;\n      this.tmpTax = Object.assign({}, row);\n      this.showDialog = true;\n      skuAPI.getSKU().then(data => {\n        this.SKUData = data;\n      });\n    },\n    //链接\n    lookClick(row) {\n      this.addOrEdit = 2;\n      this.saveTaxStatus = false;\n      this.tmpTax = Object.assign({}, row);\n      this.showDialog = true;\n      skuAPI.getSKU().then(data => {\n        this.SKUData = data;\n      });\n    },\n    //编辑\n    editTax() {\n      this.addOrEdit = 2;\n      this.saveTaxStatus = false;\n      this.tmpTax = Object.assign({}, this.selectedRows[0]);\n      this.showDialog = true;\n      skuAPI.getSKU().then(data => {\n        this.SKUData = data;\n      });\n    },\n    //新建和编辑时保存\n    saveTax() {\n      this.$refs['taxForm'].validate(valid => {\n        if (valid) {\n          let temRate = this.tmpTax.rate;\n          if (temRate && temRate != '') {\n            if (isNaN(temRate)) {\n              this.$alert('税率必须是数字！', '提示');\n              return;\n            }\n          }\n          this.saveTaxStatus = true;\n          if (this.tmpTax.rate && this.tmpTax.rate != '') {\n          }\n          if (this.addOrEdit == 1) {\n            taxAPI.addTax(this.tmpTax).then(data => {\n              if (data.status == 1) {\n                this.getTaxData();\n                this.$message.success(data.message);\n              } else {\n                this.$message.error(data.message);\n              }\n              this.saveTaxStatus = false;\n              this.showDialog = false;\n            });\n          } else if (this.addOrEdit == 2) {\n            taxAPI.editTax(this.tmpTax.id, this.tmpTax).then(data => {\n              if (data.status == 1) {\n                this.getTaxData();\n                this.temtaxTable = Object.assign([], this.taxTable);\n                this.$message.success(data.message);\n              } else {\n                this.$message.error(data.message);\n              }\n              this.saveTaxStatus = false;\n              this.showDialog = false;\n            });\n          }\n        } else {\n          this.$alert('请填写正确选项', '提示');\n          return false;\n        }\n      });\n    },\n    deleteTaxs() {\n      let rowIds = [];\n      this.selectedRows.forEach(function(row) {\n        rowIds.push(row.id);\n      });\n\n      this.$confirm('确认删除所选的数据?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n        beforeClose: (action, instance, done) => {\n          if (action == 'confirm') {\n            instance.confirmButtonLoading = true;\n            return taxAPI.deleteTaxs(rowIds).then(data => {\n              if (data.status == 1) {\n                this.taxTable = this.taxTable.filter(\n                  val => !rowIds.includes(val.id)\n                );\n                this.temtaxTable = Object.assign([], this.taxTable);\n                this.total = this.taxTable.length;\n                this.$notify({\n                  title: '成功',\n                  message: data.message,\n                  type: 'success',\n                  duration: 2000,\n                });\n              } else {\n                this.$alert(data.message);\n              }\n              instance.confirmButtonLoading = false;\n              done(data);\n            });\n          } else {\n            done();\n          }\n        },\n      }).catch(() => {\n        this.$notify.info({\n          title: '取消',\n          message: '操作取消！',\n          duration: 2000,\n        });\n      });\n    },\n    //格式化时间 格式化时间为yyyy-MM-dd hh:mm:ss\n    formatDate(date, fmt) {\n      if (/(y+)/.test(fmt)) {\n        fmt = fmt.replace(\n          RegExp.$1,\n          (date.getFullYear() + '').substr(4 - RegExp.$1.length)\n        );\n      }\n      let o = {\n        'M+': date.getMonth() + 1,\n        'd+': date.getDate(),\n        'h+': date.getHours(),\n        'm+': date.getMinutes(),\n        's+': date.getSeconds(),\n      };\n      for (let k in o) {\n        if (new RegExp(`(${k})`).test(fmt)) {\n          let str = o[k] + '';\n          fmt = fmt.replace(\n            RegExp.$1,\n            RegExp.$1.length === 1 ? str : ('00' + str).substr(str.length)\n          );\n        }\n      }\n      return fmt;\n    },\n    getTaxData() {\n      taxAPI.getTaxData().then(data => {\n        this.taxTable = data.data;\n        this.temtaxTable = Object.assign([], this.taxTable);\n        this.total = this.taxTable.length;\n      });\n    },\n    selectSku(val) {\n      let skuname = '';\n      this.SKUData.forEach(function(row) {\n        if (row.sn == val) {\n          skuname = row.name;\n          return;\n        }\n      });\n      this.tmpTax.skuname = skuname;\n    },\n  },\n  created() {\n    this.getTaxData();\n  },\n};\n</script>\n\n<style scoped>\n.main-content-wrap {\n  padding: 10px;\n}\n\n.width-300 {\n  width: 300px;\n}\n\n.width-230 {\n  width: 230px;\n}\n\n.page-wrap {\n  margin-top: 20px;\n}\n\n.page-wrap .page {\n  float: right;\n}\n\n.search-bar {\n  padding-bottom: 10px;\n}\n\n.demo-table-expand {\n  font-size: 12px;\n}\n\n.demo-table-expand label {\n  color: #99a9bf;\n}\n\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 45%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// tax.vue?30aee54a","const taxAPI = {\n  getTaxData () {\n    return axios.get('/tax/taxrate').then(res => {\n      return res\n    })\n  },\n  addTax (tax) {\n    return axios.post('/tax/taxrate', tax).then(res => res.data)\n  },\n  editTax (id, tax) {\n    return axios.put('/tax/taxrate', tax).then(res => res.data)\n  },\n  deleteTaxs (ids) {\n    let strIds = ids.join(',')\n    return axios.delete(`/tax/taxrate/${strIds}`).then(res => res.data)\n  }\n}\n\nexport default taxAPI\n\n\n\n// WEBPACK FOOTER //\n// ./source/views/setting/api/taxAPI.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-toolbar', [_c('el-button', {\n    staticClass: \"z-toolbar-btn\",\n    attrs: {\n      \"plain\": true,\n      \"icon\": \"plus\"\n    },\n    on: {\n      \"click\": _vm.addTax\n    }\n  }, [_vm._v(\"新建\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"z-toolbar-btn\",\n    attrs: {\n      \"plain\": true,\n      \"icon\": \"edit\",\n      \"disabled\": _vm.selectedRows.length !== 1\n    },\n    on: {\n      \"click\": _vm.editTax\n    }\n  }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"z-toolbar-btn\",\n    attrs: {\n      \"plain\": true,\n      \"icon\": \"delete\",\n      \"disabled\": _vm.selectedRows.length === 0\n    },\n    on: {\n      \"click\": _vm.deleteTaxs\n    }\n  }, [_vm._v(\"删除\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"main-content-wrap\"\n  }, [_c('div', {\n    staticClass: \"search-bar fr\"\n  }, [_vm._v(\"\\n      税号:\\n      \"), _c('el-input', {\n    staticStyle: {\n      \"width\": \"200px\"\n    },\n    attrs: {\n      \"size\": \"small\",\n      \"placeholder\": \"请输入税号\"\n    },\n    model: {\n      value: (_vm.search.taxNum),\n      callback: function($$v) {\n        _vm.$set(_vm.search, \"taxNum\", $$v)\n      },\n      expression: \"search.taxNum\"\n    }\n  }), _vm._v(\"\\n      商品名称：\\n      \"), _c('el-input', {\n    staticStyle: {\n      \"width\": \"200px\"\n    },\n    attrs: {\n      \"size\": \"small\",\n      \"placeholder\": \"请输入商品名称\"\n    },\n    model: {\n      value: (_vm.search.taxGoodsType),\n      callback: function($$v) {\n        _vm.$set(_vm.search, \"taxGoodsType\", $$v)\n      },\n      expression: \"search.taxGoodsType\"\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    staticStyle: {\n      \"width\": \"60px\"\n    },\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSearchBtn\n    }\n  }, [_vm._v(\"搜索\")])], 1), _vm._v(\" \"), _c('div', [_c('el-table', {\n    ref: \"taxTable\",\n    attrs: {\n      \"data\": _vm.taxTable\n    },\n    on: {\n      \"selection-change\": _vm.onSelectionChange,\n      \"row-click\": _vm.rowClick,\n      \"row-dblclick\": _vm.dblclickTax\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"55\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"type\": \"expand\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(props) {\n        return [_c('el-form', {\n          staticClass: \"demo-table-expand\",\n          attrs: {\n            \"label-position\": \"left\",\n            \"inline\": \"\",\n            \"label-width\": \"120px\"\n          }\n        }, [_c('el-form-item', {\n          attrs: {\n            \"label\": \"税号\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.taxNum))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"商品名称\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.skuname))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"税率%\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.rate))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"免征额\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.exemption))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"最后修改\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.modifyDate))])]), _vm._v(\" \"), _c('el-form-item', {\n          staticStyle: {\n            \"width\": \"100%\"\n          },\n          attrs: {\n            \"label\": \"范围\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.range))])])], 1)]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"taxNum\",\n      \"min-width\": \"25%\",\n      \"label\": \"税号\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('a', {\n          staticClass: \"a-btn\",\n          on: {\n            \"click\": function($event) {\n              _vm.lookClick(scope.row)\n            }\n          }\n        }, [_vm._v(_vm._s(scope.row.taxNum))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"skuname\",\n      \"min-width\": \"35%\",\n      \"label\": \"商品名称\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"rate\",\n      \"min-width\": \"10%\",\n      \"label\": \"税率%\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"exemption\",\n      \"min-width\": \"10%\",\n      \"label\": \"免征额\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"modifyDate\",\n      \"min-width\": \"20%\",\n      \"label\": \"最后修改\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"page-wrap\"\n  }, [_c('el-pagination', {\n    staticClass: \"page\",\n    attrs: {\n      \"current-page\": _vm.currentPage,\n      \"page-sizes\": _vm.pageSizes,\n      \"page-size\": _vm.pageSize,\n      \"total\": _vm.total,\n      \"layout\": \"total,sizes, prev, pager, next\"\n    },\n    on: {\n      \"size-change\": _vm.sizeChangeHandler,\n      \"current-change\": _vm.currentChangeHandler,\n      \"update:currentPage\": function($event) {\n        _vm.currentPage = $event\n      }\n    }\n  })], 1)]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm.addOrEdit == 1 ? '新建' : '编辑',\n      \"visible\": _vm.showDialog\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.showDialog = $event\n      },\n      \"close\": _vm.closeAddOrEditDialog\n    }\n  }, [_c('el-form', {\n    ref: \"taxForm\",\n    attrs: {\n      \"label-width\": \"160px\",\n      \"model\": _vm.tmpTax,\n      \"rules\": _vm.taxRules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"税号：\",\n      \"prop\": \"taxNum\"\n    }\n  }, [_c('el-input', {\n    staticClass: \"width-230\",\n    attrs: {\n      \"placeholder\": \"请输入税号\"\n    },\n    model: {\n      value: (_vm.tmpTax.taxNum),\n      callback: function($$v) {\n        _vm.$set(_vm.tmpTax, \"taxNum\", $$v)\n      },\n      expression: \"tmpTax.taxNum\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"商品：\"\n    }\n  }, [_c('el-select', {\n    staticClass: \"width-230\",\n    attrs: {\n      \"filterable\": \"\",\n      \"placeholder\": \"请选择一种商品\"\n    },\n    on: {\n      \"change\": _vm.selectSku\n    },\n    model: {\n      value: (_vm.tmpTax.sku),\n      callback: function($$v) {\n        _vm.$set(_vm.tmpTax, \"sku\", $$v)\n      },\n      expression: \"tmpTax.sku\"\n    }\n  }, _vm._l((_vm.SKUData), function(item) {\n    return _c('el-option', {\n      key: item.sn,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.sn\n      }\n    }, [_c('span', {\n      staticStyle: {\n        \"float\": \"left\"\n      }\n    }, [_vm._v(_vm._s(item.sn))]), _vm._v(\" \"), _c('span', {\n      staticStyle: {\n        \"float\": \"right\",\n        \"color\": \"#8492a6\",\n        \"font-size\": \"13px\"\n      }\n    }, [_vm._v(_vm._s(item.name))])])\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"税率%：\"\n    }\n  }, [_c('el-input', {\n    staticClass: \"width-230\",\n    attrs: {\n      \"placeholder\": \"请输入税率\"\n    },\n    model: {\n      value: (_vm.tmpTax.rate),\n      callback: function($$v) {\n        _vm.$set(_vm.tmpTax, \"rate\", $$v)\n      },\n      expression: \"tmpTax.rate\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"免征额：\"\n    }\n  }, [_c('el-input-number', {\n    staticClass: \"width-230\",\n    attrs: {\n      \"min\": 0\n    },\n    model: {\n      value: (_vm.tmpTax.exemption),\n      callback: function($$v) {\n        _vm.$set(_vm.tmpTax, \"exemption\", $$v)\n      },\n      expression: \"tmpTax.exemption\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"范围：\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请填写范围\",\n      \"type\": \"textarea\",\n      \"autosize\": \"true\"\n    },\n    model: {\n      value: (_vm.tmpTax.range),\n      callback: function($$v) {\n        _vm.$set(_vm.tmpTax, \"range\", $$v)\n      },\n      expression: \"tmpTax.range\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.resetTax\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": _vm.saveTaxStatus\n    },\n    on: {\n      \"click\": _vm.saveTax\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-5f04547b\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f04547b\",\"hasScoped\":true}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./source/views/setting/tax.vue\n// module id = 155\n// module chunks = 9","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f04547b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tax.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tax.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f04547b\\\",\\\"hasScoped\\\":true}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./tax.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-5f04547b\",\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"G:\\\\git\\\\declarationForm\\\\mainUI\\\\source\\\\views\\\\setting\\\\tax.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] tax.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-5f04547b\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-5f04547b\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/views/setting/tax.vue\n// module id = 95\n// module chunks = 9"],"sourceRoot":""}